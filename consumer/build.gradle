apply plugin: 'org.springframework.boot'
apply plugin: 'com.palantir.docker'
apply plugin: 'io.spring.dependency-management'

dependencies {

	implementation('org.hibernate.validator:hibernate-validator')
	implementation("org.apache.kafka:kafka-clients:2.3.0")
	implementation("org.apache.commons:commons-lang3:3.8.1")
	implementation("commons-validator:commons-validator:1.6")
	implementation("com.vladmihalcea:hibernate-types-52:1.0.0")

	implementation("org.axonframework.extensions.kafka:axon-kafka:4.0-SNAPSHOT")
	implementation("org.axonframework.extensions.kafka:axon-kafka-spring-boot-starter:4.0-SNAPSHOT")
	implementation("org.axonframework.extensions.kafka:axon-kafka:4.0-SNAPSHOT")

	implementation("org.axonframework:axon-spring-boot-starter:4.2") {
		exclude module: "axon-server-connector"
		force = true
	}

	implementation('org.springframework.boot:spring-boot-starter-validation')
	implementation('org.springframework.boot:spring-boot-starter-actuator')
	implementation("org.springframework.boot:spring-boot-starter-data-jpa")
	
	implementation project(":pruducer-events")
	runtimeOnly("org.postgresql:postgresql")
}

docker {
	name "${project.group}/${bootJar.baseName}"
	files bootJar.archivePath
	buildArgs(['JAR_FILE': "${bootJar.archiveName}"])
}